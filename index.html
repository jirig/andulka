<!DOCTYPE html>
<html lang="cs">
<head>
 <meta charset="utf-8" />
 <title>Andulka - adaptivn√≠ twitter klient </title>
 <link type="text/css" href="./viz/base.css" rel="stylesheet" />
 <link type="text/css" href="./viz/Hypertree.css" rel="stylesheet" />
 <!--[if IE]><script language="javascript" type="text/javascript" src="../../Extras/excanvas.js"></script><![endif]-->

<!-- JIT Library File -->
<script language="javascript" type="text/javascript" src="./js/Jit/jit.js"></script>

<!-- Example File -->
<script language="javascript" type="text/javascript" src="./viz/ex1.js"></script>
</head>

<body>
<script>
var spojeni;
var replyStatusID = 0;
</script>

<script type="text/python">
import twcm

def tConnectPy():
  print "Spojuji------"
  return twcm.connectToTw()


def tVypisPy(spojeni, co):

  if(co == "search"):
     query = window.document.getElementById('searchInput').value;
     window.document.getElementById('timeLine').innerHTML = twcm.vypis(spojeni, co, query)
  
  else:
    window.document.getElementById('timeLine').innerHTML = twcm.vypis(spojeni, co)

def posliStatusPy(spojeni, replyStatusID):
    #try:
      text = window.document.getElementById('statusArea').value;
      if(replyStatusID):
        twcm.publishStatus(spojeni, text, statusID = replyStatusID);
        replyStatusID = 0;
      else:
        twcm.publishStatus(spojeni, text);
      window.document.getElementById('statusArea').value = ""
      alert("odeslano");
    #except:
     #  alert("odeslani selhalo");

def otevriOdkazPy(link):
    twcm.browserOpen(link)
    
def newFavPy(spojeni, statusid):
    twcm.newFav(spojeni, statusid)
    print "FAV +"
    return
def unFavPy(spojeni, statusid):
    twcm.unFav(spojeni, statusid)
    print "FAV +"
    return

def vizPy():
    jsn = twcm.vizData()    
    return jsn

</script>
<script>
function updateTime()

{

var now = new Date();

var hours = now.getHours();

var minutes = now.getMinutes();

var seconds = now.getSeconds();

window.document.getElementById('time').innerHTML = hours + ":" + (minutes<10?"0" +minutes:minutes) + ":" + (seconds<10?"0" + seconds:seconds);

}


</script>



<script>
// Nastaveni okna aplikace / Titanium

var menu = Titanium.UI.createMenu();
    var file = Titanium.UI.createMenuItem("File");
    file.addItem("Quit",function() {
	Titanium.App.exit();
     },"./n0M.png");
    file.addSeparatorItem();
    menu.appendItem(file);
    Titanium.UI.setMenu(menu);

// Tray ikonka a menu
var tray = Titanium.UI.addTray(iconURL="./n0M.png", function(){
  //mWindow.show();
   var mWindow = Titanium.UI.getCurrentWindow();
   if(mWindow.isVisible()){
     mWindow.setVisible(false);
   }
   else{
     
     mWindow.setVisible(true);
     mWindow.focus();
   }
     //window.showInspector();      
});
// Tooltip pro ikonku
tray.setHint("Andulka");
var trayMenu = Titanium.UI.createMenu();
tray.setMenu(trayMenu);

var quit = Titanium.UI.createMenuItem("Quit", function(){
    Titanium.App.exit();
});
trayMenu.appendItem(quit);
var showW = Titanium.UI.createMenuItem("Show", function(){
     var mWindow = Titanium.UI.getCurrentWindow();
     mWindow.setVisible(true);
     mWindow.focus();
});
trayMenu.appendItem(showW);
// 
// notifikace
//Titanium.UI.UserWindow.setTransparency(50)
//var notif = Titanium.Notification.createNotification(Titanium.UI.createWindow());
//notif.setTitle("New message");
//notif.setMessage("How are you doing?");
//notif.setTimeout(5)
//notif.show();

var globalObject;
Titanium.API.addEventListener(Titanium.PAGE_INITIALIZED, function(event)
    {
            alert("Got page initialized event!");
    });
</script>


<script>

function presmeruj()
{
  window.location.href="http://google.com";
}

var pocetpismenek=0;

function pocetZnaku(kde)
{
// spocita pocet znaku v textarea
//   pocetpismenek ++;
  window.document.getElementById('pocet').innerHTML =140 - window.document.getElementById(kde).value.length;
  
}

function vycisti(id)
{
   window.document.getElementById(id).value = ""
}
function otevriOdkaz(link)
{
    Titanium.Platform.openURL(link);
}

function reply(spojeni,sName, sID){
    area = window.document.getElementById("statusArea");
    area.innerHTML = "@" + sName + " ";
    replyStatusID = sID
}

function vizualizuj(){
    jsn = vizPy();
    //alert(jsn);
    init(jsn);
}
</script>

<h1>Ahoj</h1>
<script> 
    setInterval(updateTime, 1000);
   // spojeni = tConnectPy();
</script>
<h2><a href="#" OnClick = "tVypisPy(spojeni,'timeline')" >Get TimeLine</a></h2>
<h2><a href="#" OnClick = "tVypisPy(spojeni,'myFavs')" >Get My Favs</a></h2>
<a href="./js/Jit/Examples/Hypertree/example1.html">TM</a>
<a href="./zpet.html">ZPET</a>
<form action="javascript:posliStatusPy(spojeni, replyStatusID)"  method="get">
  <textarea id = "statusArea" onkeyup = "pocetZnaku('statusArea')" rows="5" cols="28"></textarea>
  <input type="submit" value="Submit" />
</form>
<form action="javascript:tVypisPy(spojeni, 'search')" method="get">
  <input id = "searchInput" />
  <input type="submit" value="Submit" />
</form>
<span id = "pocet">  </span>
<div id="time" style="padding:10px">Welcome to Titanium</div>
<div id="timeLine" style="padding:10px">TimeLine</div>

<!--vizualizace-->
<a href="#" onclick = "vizualizuj();"> VIZZZZ </a>
<!--<div id="vizual"  onload="init();">-->
<div id="vizual">
    <div id="container">
        <div id="left-container">



        <div class="text">
        <h4>
Tree Animation
        </h4>

            A static JSON Tree structure is used as input for this animation.<br /><br />
            Clicking on a node should move the tree and center that node.<br /><br />
            The centered node's children are displayed in a relations list in the right column.

        </div>
</div>
        <div id="id-list"></div>


<div style="text-align:center;"><a href="ex1.js">See the Example Code</a></div>      
    <div id="center-container">
        <div id="infovis"></div>
    </div>
        <div id="right-container">

            <div id="inner-details"></div>

        </div>
        <div id="log"></div>
    </div>
</div>

</body>
</html>