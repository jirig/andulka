<!DOCTYPE html>
<html lang="cs">
<head>
 <meta charset="utf-8" />
 <title>Andulka - adaptivn√≠ twitter klient </title>
</head>

<body>
<script>
var spojeni;
</script>

<script type="text/python">
import twcm

def my_py_test2():   
     return ("PR0N")

def tConnectPy():
  print "Spojuji------"
  return twcm.connectToTw()


def tVypisPy(spojeni, co):

  if(co == "search"):
     query = window.document.getElementById('searchInput').value;
     window.document.getElementById('timeLine').innerHTML = twcm.vypis(spojeni, co, query)
  
  else:
    window.document.getElementById('timeLine').innerHTML = twcm.vypis(spojeni, co)

def posliStatusPy(spojeni, id):
  text = window.document.getElementById('statusArea').value;
  twcm.publishStatus(spojeni, text);
  window.document.getElementById(id).value = ""
  alert("odeslano");

def otevriOdkazPy(link):
    twcm.browserOpen(link)
    


</script>
<script>
function updateTime()

{

var now = new Date();

var hours = now.getHours();

var minutes = now.getMinutes();

var seconds = now.getSeconds();

window.document.getElementById('time').innerHTML = hours + ":" + (minutes<10?"0" +minutes:minutes) + ":" + (seconds<10?"0" + seconds:seconds);

}


</script>



<script>
var menu = Titanium.UI.createMenu();
    var file = Titanium.UI.createMenuItem("File");
    file.addItem("Quit",function() {
	Titanium.App.exit();
     },"./n0M.png");
//     file.addEventListener(Titanium.CLICKED, function(event)
//     {
//         alert("Help activated");
//     });
//     ahoj = Titanium.UI.MenuItem.addItem("ahoj");
//     menu.appendItem(ahoj);
    file.addSeparatorItem();
    menu.appendItem(file);
    Titanium.UI.setMenu(menu);
</script>

<script>
Titanium.UI.addTray("./n0M.png")
var globalObject;
var pyText = "";

Titanium.API.addEventListener(Titanium.PAGE_INITIALIZED, function(event)
    {
            alert("Got page initialized event!");
    });
</script>


<script>
function pageloads()
{
  var f;
  zapis = "AHOJDA";
   pyText = my_py_test2()
   alert(pyText)
}

function presmeruj()
{
  window.location.href="http://google.com";
}

var pocetpismenek=0;

function pocetZnaku(kde)
{
// spocita pocet znaku v textarea
//   pocetpismenek ++;
  window.document.getElementById('pocet').innerHTML = window.document.getElementById(kde).value.length;
  
}

function vycisti(id)
{
   window.document.getElementById(id).value = ""
}
function otevriOdkaz(link)
{
    Titanium.Platform.openURL(link)
}
</script>

<h1>Ahoj</h1>
<script> 
    setInterval(updateTime, 1000);
    spojeni = tConnectPy();
</script>
<h2><a href="#" OnClick = "tVypisPy(spojeni,'timeline')" >Get TimeLine</a></h2>
<h2><a href="#" OnClick = "tVypisPy(spojeni,'myFavs')" >Get My Favs</a></h2>
<a href="./js/Jit/Examples/Hypertree/example1.html">TM</a>
<a href="./zpet.html">ZPET</a>
<form action="javascript:posliStatusPy(spojeni, 'statusArea')"  method="get">
  <textarea id = "statusArea" onkeyup = "pocetZnaku('statusArea')" rows="2" cols="70">
  </textarea>
  <input type="submit" value="Submit" />
</form>
<form action="javascript:tVypisPy(spojeni, 'search')" method="get">
  <input id = "searchInput" />
  <input type="submit" value="Submit" />
</form>
<span id = "pocet">  </span>
<div id="time" style="padding:10px">Welcome to Titanium</div>
<div id="timeLine" style="padding:10px">TimeLine</div>

</body>
</html>